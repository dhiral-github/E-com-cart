{"ast":null,"code":"/**\n * @author Matthew Caruana Galizia <m@m.cg>\n * @license MIT: http://mattcg.mit-license.org/\n * @copyright Copyright (c) 2013, Matthew Caruana Galizia\n */\n\n/*jshint node:true*/\n\n'use strict';\n\nvar Tag = require('./Tag.js');\nvar Subtag = require('./Subtag.js');\nvar index = require('language-subtag-registry/data/json/index.json');\nvar registry = require('language-subtag-registry/data/json/registry.json');\nvar tags = function (tag) {\n  return new Tag(tag);\n};\nmodule.exports = tags;\ntags.check = function (tag) {\n  return new Tag(tag).valid();\n};\ntags.types = function (subtag) {\n  var types = index[subtag];\n  if (!types) {\n    return [];\n  }\n  return Object.keys(types).filter(function (type) {\n    return type !== 'grandfathered' && type !== 'redundant';\n  });\n};\ntags.subtags = function (subtags) {\n  var result = [];\n  if (!Array.isArray(subtags)) {\n    subtags = [subtags];\n  }\n  subtags.forEach(function (subtag) {\n    tags.types(subtag).forEach(function (type) {\n      result.push(new Subtag(subtag, type));\n    });\n  });\n  return result;\n};\ntags.filter = function (subtags) {\n  return subtags.filter(function (subtag) {\n    return !tags.types(subtag).length;\n  });\n};\ntags.search = function (query, all) {\n  var test;\n  if ('function' === typeof query.test) {\n    test = function (description) {\n      return query.test(description);\n    };\n\n    // If the query is all lowercase, make a case-insensitive match.\n  } else if (query.toLowerCase() === query) {\n    test = function (description) {\n      return -1 !== description.toLowerCase().indexOf(query);\n    };\n  } else {\n    test = function (description) {\n      return -1 !== description.indexOf(query);\n    };\n  }\n  return registry.filter(function (record) {\n    if (!record.Subtag && !all) {\n      return false;\n    }\n    return record.Description.some(test);\n\n    // Sort by matched description string length.\n    // This is a quick way to push precise matches towards the top.\n  }).sort(function (a, b) {\n    return Math.min.apply(Math, a.Description.filter(test).map(function (description) {\n      return description.length;\n    })) - Math.min.apply(Math, b.Description.filter(test).map(function (description) {\n      return description.length;\n    }));\n  }).map(function (record) {\n    if (record.Subtag) {\n      return new Subtag(record.Subtag, record.Type);\n    }\n    return new Tag(record.Tag);\n  });\n};\ntags.languages = function (macrolanguage) {\n  var i,\n    l,\n    record,\n    results = [];\n  macrolanguage = macrolanguage.toLowerCase();\n  if (!require('language-subtag-registry/data/json/macrolanguage.json')[macrolanguage]) {\n    throw new Error('\\'' + macrolanguage + '\\' is not a macrolanguage.');\n  }\n  for (i = 0, l = registry.length; i < l; i++) {\n    record = registry[i];\n    if (record.Macrolanguage === macrolanguage) {\n      results.push(new Subtag(record.Subtag, record.Type));\n    }\n  }\n  return results;\n};\ntags.language = function (subtag) {\n  return tags.type(subtag, 'language');\n};\ntags.region = function (subtag) {\n  return tags.type(subtag, 'region');\n};\ntags.type = function (subtag, type) {\n  var types = index[subtag.toLowerCase()];\n  if (types && types[type]) {\n    return new Subtag(subtag, type);\n  }\n  return null;\n};\ntags.date = function () {\n  return require('language-subtag-registry/data/json/meta.json')['File-Date'];\n};","map":{"version":3,"names":["Tag","require","Subtag","index","registry","tags","tag","module","exports","check","valid","types","subtag","Object","keys","filter","type","subtags","result","Array","isArray","forEach","push","length","search","query","all","test","description","toLowerCase","indexOf","record","Description","some","sort","a","b","Math","min","apply","map","Type","languages","macrolanguage","i","l","results","Error","Macrolanguage","language","region","date"],"sources":["/Users/mohitmac/Documents/dhiral/e-com-cart/node_modules/language-tags/lib/index.js"],"sourcesContent":["/**\n * @author Matthew Caruana Galizia <m@m.cg>\n * @license MIT: http://mattcg.mit-license.org/\n * @copyright Copyright (c) 2013, Matthew Caruana Galizia\n */\n\n/*jshint node:true*/\n\n'use strict';\n\nvar Tag = require('./Tag.js');\nvar Subtag = require('./Subtag.js');\n\nvar index = require('language-subtag-registry/data/json/index.json');\nvar registry = require('language-subtag-registry/data/json/registry.json');\n\nvar tags = function(tag) {\n\treturn new Tag(tag);\n};\n\nmodule.exports = tags;\n\ntags.check = function(tag) {\n\treturn new Tag(tag).valid();\n};\n\ntags.types = function(subtag) {\n\tvar types = index[subtag];\n\n\tif (!types) {\n\t\treturn [];\n\t}\n\n\treturn Object.keys(types).filter(function(type) {\n\t\treturn type !== 'grandfathered' && type !== 'redundant';\n\t});\n};\n\ntags.subtags = function(subtags) {\n\tvar result = [];\n\n\tif (!Array.isArray(subtags)) {\n\t\tsubtags = [subtags];\n\t}\n\n\tsubtags.forEach(function(subtag) {\n\t\ttags.types(subtag).forEach(function(type) {\n\t\t\tresult.push(new Subtag(subtag, type));\n\t\t});\n\t});\n\n\treturn result;\n};\n\ntags.filter = function(subtags) {\n\treturn subtags.filter(function(subtag) {\n\t\treturn !tags.types(subtag).length;\n\t});\n};\n\ntags.search = function(query, all) {\n\tvar test;\n\n\tif ('function' === typeof query.test) {\n\t\ttest = function(description) {\n\t\t\treturn query.test(description);\n\t\t};\n\n\t// If the query is all lowercase, make a case-insensitive match.\n\t} else if (query.toLowerCase() === query) {\n\t\ttest = function(description) {\n\t\t\treturn -1 !== description.toLowerCase().indexOf(query);\n\t\t};\n\t} else {\n\t\ttest = function(description) {\n\t\t\treturn -1 !== description.indexOf(query);\n\t\t};\n\t}\n\n\treturn registry.filter(function(record) {\n\t\tif (!record.Subtag && !all) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn record.Description.some(test);\n\n\t// Sort by matched description string length.\n\t// This is a quick way to push precise matches towards the top.\n\t}).sort(function(a, b) {\n\t\treturn Math.min.apply(Math, a.Description.filter(test).map(function(description) {\n\t\t\treturn description.length;\n\t\t})) - Math.min.apply(Math, b.Description.filter(test).map(function(description) {\n\t\t\treturn description.length;\n\t\t}));\n\t}).map(function(record) {\n\t\tif (record.Subtag) {\n\t\t\treturn new Subtag(record.Subtag, record.Type);\n\t\t}\n\n\t\treturn new Tag(record.Tag);\n\t});\n};\n\ntags.languages = function(macrolanguage) {\n\tvar i, l, record, results = [];\n\n\tmacrolanguage = macrolanguage.toLowerCase();\n\tif (!require('language-subtag-registry/data/json/macrolanguage.json')[macrolanguage]) {\n\t\tthrow new Error('\\'' + macrolanguage + '\\' is not a macrolanguage.');\n\t}\n\n\tfor (i = 0, l = registry.length; i < l; i++) {\n\t\trecord = registry[i];\n\t\tif (record.Macrolanguage === macrolanguage) {\n\t\t\tresults.push(new Subtag(record.Subtag, record.Type));\n\t\t}\n\t}\n\n\treturn results;\n};\n\ntags.language = function(subtag) {\n\treturn tags.type(subtag, 'language');\n};\n\ntags.region = function(subtag) {\n\treturn tags.type(subtag, 'region');\n};\n\ntags.type = function(subtag, type) {\n\tvar types = index[subtag.toLowerCase()];\n\n\tif (types && types[type]) {\n\t\treturn new Subtag(subtag, type);\n\t}\n\n\treturn null;\n};\n\ntags.date = function() {\n\treturn require('language-subtag-registry/data/json/meta.json')['File-Date'];\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}